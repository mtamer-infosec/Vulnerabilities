# [Brute‑forcing a stay‑logged‑in cookie](https://portswigger.net/web-security/authentication/other-mechanisms/lab-brute-forcing-a-stay-logged-in-cookie)

> **الهدف**: كسر كوكي "stay logged in" لمستخدم `carlos` عن طريق فهم صيغة الكوكي وتوليد قيم صحيحة من قائمة كلمات (candidate passwords) ثم استعمال الكوكي للدخول على صفحة `my-account?id=carlos`.

---

##  الخطوات 

1. اعمل تسجيل دخول بحساب `wiener:peter` و فعل `stay logged in`
![[photo/Screenshot From 2025-10-24 15-25-45.png]]
2. في burp انقل الطلب الي intruder 
3. حذفت قيمه `session`
session=<mark style="background: #FF5582A6;">K4Ad3Iu7dwTPhB1R9h29rz2gY4rwOv3p </mark>
4. خذ قيمه Cookie: stay-logged-in=
<mark style="background: #FF5582A6;">d2llbmVyOjUxZGMzMGRkYzQ3M2Q0M2E2MDExZTllYmJhNmNhNzcw</mark>; و حولها علي Decoder 
5. بعدين اختار في `decode as `  ---> base64
![[photo/Screenshot From 2025-10-24 15-07-53.png]]
	1. الناتج wiener:51dc30ddc473d43a6011e9ebba6ca770
6. بعدين خد قيمه التشفير التانيه و حولها علي موقع crack station هيطلع نوعها `md5 `   result  = `peter`
![[photo/Screenshot From 2025-10-24 15-42-39.png]]
7. اذا cookie:stay-logged-in  ----->  base64(username:md5(password)) 
8. حول الطلب الي `intruder `
9. اعمل سيلكت علي السيشن بعدين خش علي قائمه الباسورد ضيف فيها بعدين في `payloads processing` ,  اعمل التالي

   * `Hash` → MD5 (يقوم بتحويل كلمة السر إلى md5)
   * `Add prefix` → اكتب `carlos:` (هكذا يصبح `carlos:<md5>`)
   * `Base64-encode` → يشفر الناتج إلى base64
   ![[photo/Screenshot From 2025-10-24 15-04-24.png]]
1. شغّل الهجوم وراقب الـ responses. عندما تجد طلب يؤدي إلى `200` أو `302` ويعرض صفحة الحساب، خُذ الكوكي صالحًا واختبره في المتصفح.
---
